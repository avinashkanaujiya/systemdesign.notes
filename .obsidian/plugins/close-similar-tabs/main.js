/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => CST
});
module.exports = __toCommonJS(main_exports);
var import_obsidian4 = require("obsidian");

// src/utils.ts
var import_obsidian = require("obsidian");
var clearAfterDelay = (0, import_obsidian.debounce)(() => {
  console.clear();
}, 1e3 * 30, true);
var getPath = (leaf) => {
  return leaf.view.file && leaf.view.file.path || "";
};

// src/modal.ts
var import_obsidian2 = require("obsidian");
var DuplicateTabsModal = class extends import_obsidian2.Modal {
  constructor(app, plugin) {
    super(app);
    this.plugin = plugin;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h4", { text: "Close Similar Tabs Parameters" });
    new import_obsidian2.Setting(contentEl).setName("Quick switch").setDesc("Enable/disable Close Similar Tabs").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.enableCST).onChange((value) => {
        this.plugin.settings.enableCST = value;
        this.plugin.saveSettings();
        const message = this.plugin.settings.enableCST ? "Close similar tabs ON" : "Close similar tabs OFF";
        new import_obsidian2.Notice(`${message}`);
      });
    });
    new import_obsidian2.Setting(contentEl).setName("Close by window").setDesc(
      "Select whether the plugin will only close similar tabs within the same window, or throughout all open windows."
    ).addDropdown((dropdown) => {
      dropdown.addOptions({
        current: "Current window only",
        all: "All windows"
      }).setValue(this.plugin.settings.byWindow).onChange(async (value) => {
        if (value === "all" || value === "current") {
          this.plugin.settings.byWindow = value;
          this.plugin.saveSettings();
        }
      });
    });
    new import_obsidian2.Setting(contentEl).setName("No empty tabs").setDesc("Activates no several empty tabs").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.noEmptyTabs).onChange((value) => {
        this.plugin.settings.noEmptyTabs = value;
        this.plugin.saveSettings();
      });
    });
    new import_obsidian2.Setting(contentEl).setName("Be Clearly Notified").setDesc(
      "open a specific notification pop up, when a similar tab already exists"
    ).addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.beNotified).onChange((value) => {
        this.plugin.settings.beNotified = value;
        this.plugin.saveSettings();
      });
    });
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/settings.ts
var import_obsidian3 = require("obsidian");
var DuplicateTabsSettingsTab = class extends import_obsidian3.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h1", { text: "Close Similar Tabs" });
    const content = `
		<p>
		Repository: \u{1F334} <a href="https://github.com/1C0D/Obsidian-Close-Similar-Tabs">1C0D/Obsidian-Close-Similar-Tabs</a> \u{1F334}
		</p>
		`;
    containerEl.createDiv("", (el) => {
      el.innerHTML = content;
    });
    new import_obsidian3.Setting(containerEl).setName("Quick switch").setDesc("Enable/disable Close Similar Tabs").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.enableCST).onChange((value) => {
        this.plugin.settings.enableCST = value;
        this.plugin.saveSettings();
        const message = this.plugin.settings.enableCST ? "Close similar tabs ON" : "Close similar tabs OFF";
        new import_obsidian3.Notice(`${message}`);
      });
    });
    new import_obsidian3.Setting(containerEl).setName("Close by window").setDesc(
      "Select whether the plugin will only close similar tabs within the same window, or throughout all open windows."
    ).addDropdown((dropdown) => {
      dropdown.addOptions({
        current: "Current window only",
        all: "All windows"
      }).setValue(this.plugin.settings.byWindow).onChange(async (value) => {
        if (value === "all" || value === "current") {
          this.plugin.settings.byWindow = value;
          this.plugin.saveSettings();
        }
      });
    });
    new import_obsidian3.Setting(containerEl).setName("No empty tabs").setDesc("Activates no several empty tabs").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.noEmptyTabs).onChange((value) => {
        this.plugin.settings.noEmptyTabs = value;
        this.plugin.saveSettings();
      });
    });
    new import_obsidian3.Setting(containerEl).setName("Be Clearly Notified").setDesc(
      "open a specific notification pop up, when a similar tab already exists"
    ).addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.beNotified).onChange((value) => {
        this.plugin.settings.beNotified = value;
        this.plugin.saveSettings();
      });
    });
    containerEl.createEl("p", {
      text: `2 commands: "Close Similar Tabs parameters" to directly change parameters, from the editor 
			and "Quick switch" to temporarly enable/disable Close Similar Tabs.,`
    });
  }
};

// src/main.ts
var DEFAULT_SETTINGS = {
  byWindow: "current",
  noEmptyTabs: true,
  enableCST: true,
  beNotified: true
};
var CST = class extends import_obsidian4.Plugin {
  constructor() {
    super(...arguments);
    this.leavesAtStart = [];
    this.leaves = [];
    this.once = false;
    this.getDupliActive = () => {
      const leaves = this.getLeaves();
      const activeLeaf = this.activeLeaf;
      const { isMainWindow: isMainWindowActive, rootSplit: rootSplitActive, el: activeEl } = this.getLeafProperties(activeLeaf);
      if (!rootSplitActive && isMainWindowActive)
        return;
      for (const leaf of leaves) {
        const {
          isMainWindow: isMainWindowDupli,
          rootSplit: rootSplitDupli,
          el: dupliEl,
          isSameWindow: isSameWindowDupli
        } = this.getLeafProperties(leaf, true);
        if (leaf === activeLeaf || isMainWindowDupli && !rootSplitDupli || isSameWindowDupli && activeEl !== dupliEl || getPath(leaf) !== getPath(activeLeaf) || !isSameWindowDupli && this.settings.byWindow === "current") {
          this.once = true;
          setTimeout(() => {
            this.once = false;
          }, 200);
          continue;
        }
        return leaf;
      }
    };
    this.detachLeaf = async (duplicate) => {
      var _a, _b;
      let notEmpty = false;
      if (!duplicate)
        return;
      if (
        // this.once
        true
      ) {
        if (this.activeLeaf.history.backHistory.length) {
          await this.activeLeaf.history.back();
        }
      }
      if (getPath(duplicate)) {
        (_a = this.activeLeaf) == null ? void 0 : _a.detach();
        notEmpty = true;
        this.once = false;
      } else {
        if (this.settings.noEmptyTabs && duplicate.getViewState().type === "empty") {
          (_b = this.activeLeaf) == null ? void 0 : _b.detach();
        }
      }
      this.app.workspace.revealLeaf(duplicate);
      return notEmpty;
    };
    this.getLeaves = () => {
      const { workspace } = this.app;
      const leavesList = [];
      workspace.iterateAllLeaves((leaf) => {
        if (leaf.getRoot() === workspace.rootSplit && !this.getPinned(leaf)) {
          leavesList.push(leaf);
        }
      });
      return leavesList;
    };
    // was damn useful to debug. activeLeaf this is not so simple...
    this.allActivePath = (leaf, active_leaf_change = false) => {
      var _a;
      if (active_leaf_change) {
        console.log("[ active-leaf-change ]");
        console.log("ALC leaf", getPath(leaf));
      }
      const getActiveFilePath = (_a = this.app.workspace.getActiveFile()) == null ? void 0 : _a.path;
      console.log("ActiveFile", getActiveFilePath);
    };
    this.addedTab = () => {
      this.leaves = this.getLeaves();
      let value = NaN;
      if (this.leavesAtStart.length > this.leaves.length)
        value = -1;
      else if (this.leavesAtStart.length < this.leaves.length) {
        value = 1;
      } else
        value = 0;
      this.leavesAtStart = this.leaves;
      return value;
    };
  }
  async onload() {
    await this.loadSettings();
    await this.saveSettings();
    this.addSettingTab(new DuplicateTabsSettingsTab(this.app, this));
    this.app.workspace.onLayoutReady(() => {
      this.registerEvent(
        this.app.workspace.on(
          // @ts-ignore
          "active-leaf-change",
          async (leaf) => {
            if (!this.settings.enableCST)
              return;
            console.debug("////////// active-leaf-change");
            const modif = this.addedTab();
            if (modif === -1 || leaf.getViewState().type === "swar8080/AVAILABLE_PLUGIN_UPDATES") {
              return;
            } else {
              this.activeLeaf = leaf;
              if (this.getPinned(leaf))
                return;
              const duplicate = this.getDupliActive();
              const notEmpty = await this.detachLeaf(duplicate);
              if (this.settings.beNotified && notEmpty) {
                new import_obsidian4.Notice("already opened");
              }
            }
          }
        )
      );
    });
    this.addCommand({
      id: "parameters",
      name: "CST parameters",
      callback: () => {
        new DuplicateTabsModal(this.app, this).open();
      }
    });
    this.addCommand({
      id: "quick-switch",
      name: "CST quick switch",
      callback: async () => {
        this.settings.enableCST = !this.settings.enableCST;
        const message = this.settings.enableCST ? "Close similar tabs ON" : "Close similar tabs OFF";
        new import_obsidian4.Notice(`${message}`);
        await this.saveSettings();
      }
    });
  }
  getLeafProperties(leaf, notActive = false) {
    const isMainWindow = leaf.view.containerEl.win === window;
    const rootSplit = leaf.getRoot() === this.app.workspace.rootSplit;
    const el = leaf.parentSplit.containerEl;
    if (notActive) {
      const isSameWindow = leaf.view.containerEl.win == activeWindow;
      return { isMainWindow, rootSplit, el, isSameWindow };
    }
    return { isMainWindow, rootSplit, el };
  }
  getVisibleLeaf() {
    const { workspace } = this.app;
    return workspace.getLeaf(false);
  }
  getPinned(leaf) {
    return leaf && leaf.getViewState().pinned;
  }
  async loadSettings() {
    this.settings = Object.assign(
      {},
      DEFAULT_SETTINGS,
      await this.loadData()
    );
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3V0aWxzLnRzIiwgInNyYy9tb2RhbC50cyIsICJzcmMvc2V0dGluZ3MudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IE5vdGljZSwgUGx1Z2luLCBWaWV3LCBXb3Jrc3BhY2VMZWFmLCBkZWJvdW5jZSB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBnZXRQYXRoIH0gZnJvbSBcIi4vdXRpbHNcIlxyXG5pbXBvcnQgeyBEdXBsaWNhdGVUYWJzTW9kYWwgfSBmcm9tIFwiLi9tb2RhbFwiO1xyXG5pbXBvcnQgeyBEdXBsaWNhdGVUYWJzU2V0dGluZ3NUYWIgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xyXG5cclxuaW50ZXJmYWNlIENTVFNldHRpbmdzIHtcclxuXHRieVdpbmRvdzogXCJjdXJyZW50XCIgfCBcImFsbFwiO1xyXG5cdG5vRW1wdHlUYWJzOiBib29sZWFuO1xyXG5cdGVuYWJsZUNTVDogYm9vbGVhbjtcclxuXHRiZU5vdGlmaWVkOiBib29sZWFuO1xyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBDU1RTZXR0aW5ncyA9IHtcclxuXHRieVdpbmRvdzogXCJjdXJyZW50XCIsXHJcblx0bm9FbXB0eVRhYnM6IHRydWUsXHJcblx0ZW5hYmxlQ1NUOiB0cnVlLFxyXG5cdGJlTm90aWZpZWQ6IHRydWUsXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDU1QgZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHNldHRpbmdzOiBDU1RTZXR0aW5ncztcclxuXHRsZWF2ZXNBdFN0YXJ0OiBXb3Jrc3BhY2VMZWFmW10gPSBbXTtcclxuXHRsZWF2ZXM6IFdvcmtzcGFjZUxlYWZbXSA9IFtdO1xyXG5cdGFjdGl2ZUxlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsO1xyXG5cdG9uY2UgPSBmYWxzZVxyXG5cclxuXHRhc3luYyBvbmxvYWQoKSB7XHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0YXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgRHVwbGljYXRlVGFic1NldHRpbmdzVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblxyXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uTGF5b3V0UmVhZHkoKCkgPT4ge1xyXG5cdFx0XHQvLyB0YWIgb3BlbmVkIHdpdGggY2xpY2sgKyBjdHJsXHJcblx0XHRcdC8vIHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHRcdFx0Ly8gXHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXHJcblx0XHRcdC8vIFx0XHRcImxheW91dC1jaGFuZ2VcIixcclxuXHRcdFx0Ly8gXHRcdCgpID0+IHtcclxuXHRcdFx0Ly8gXHRcdFx0aWYgKCF0aGlzLnNldHRpbmdzLmVuYWJsZUNTVCkgcmV0dXJuXHJcblx0XHRcdC8vIFx0XHRcdGNvbnNvbGUuZGVidWcoXCIvLy8vLy8vLy8vIGxheW91dC1jaGFuZ2VcIilcclxuXHRcdFx0Ly8gXHRcdFx0Y29uc3QgbW9kaWYgPSB0aGlzLmFkZGVkVGFiKClcclxuXHRcdFx0Ly8gXHRcdFx0aWYgKG1vZGlmID09PSAwKSB7XHJcblx0XHRcdC8vIFx0XHRcdFx0Ly8gYmUgYXdhcmUgY2xpY2tpbmcgdGhlIGV4cGxvcmVyLCBhY3RpdmVMZWFmIGlzIHRoZSBleHBsb3Jlci4gd2h5IHdlIG5lZWQgdmlzaWJsZVxyXG5cdFx0XHQvLyBcdFx0XHRcdGNvbnN0IHZpc2libGVMZWFmID0gdGhpcy5nZXRWaXNpYmxlTGVhZigpXHJcblx0XHRcdC8vIFx0XHRcdFx0Y29uc3QgdmlzaWJsZUxlYWZFbCA9ICh2aXNpYmxlTGVhZiBhcyBhbnkpLnBhcmVudC5jb250YWluZXJFbFxyXG5cdFx0XHQvLyBcdFx0XHRcdGNvbnN0IHNhbWVFbDogV29ya3NwYWNlTGVhZltdID0gW11cclxuXHJcblx0XHRcdC8vIFx0XHRcdFx0Zm9yIChjb25zdCBsZWFmIG9mIHRoaXMubGVhdmVzKSB7XHJcblx0XHRcdC8vIFx0XHRcdFx0XHRjb25zdCBpc1NhbWVXaW5kb3cgPSBsZWFmIS52aWV3LmNvbnRhaW5lckVsLndpbiA9PSBhY3RpdmVXaW5kb3dcclxuXHRcdFx0Ly8gXHRcdFx0XHRcdGlmIChcclxuXHRcdFx0Ly8gXHRcdFx0XHRcdFx0aXNTYW1lV2luZG93XHJcblx0XHRcdC8vIFx0XHRcdFx0XHRcdCYmIChsZWFmIGFzIGFueSkhLnBhcmVudC5jb250YWluZXJFbCA9PSB2aXNpYmxlTGVhZkVsXHJcblx0XHRcdC8vIFx0XHRcdFx0XHRcdCYmIGdldFBhdGgobGVhZilcclxuXHRcdFx0Ly8gXHRcdFx0XHRcdCkge1xyXG5cdFx0XHQvLyBcdFx0XHRcdFx0XHRzYW1lRWwucHVzaChsZWFmKVxyXG5cdFx0XHQvLyBcdFx0XHRcdFx0fVxyXG5cdFx0XHQvLyBcdFx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFx0XHRcdFx0Y29uc3QgbGlzdGVkUGF0aDogc3RyaW5nW10gPSBbXVxyXG5cdFx0XHQvLyBcdFx0XHRcdGZvciAoY29uc3QgbGVhZiBvZiBzYW1lRWwpIHtcclxuXHRcdFx0Ly8gXHRcdFx0XHRcdGlmICh0aGlzLmdldFBpbm5lZChsZWFmKSkgY29udGludWVcclxuXHRcdFx0Ly8gXHRcdFx0XHRcdGlmIChcclxuXHRcdFx0Ly8gXHRcdFx0XHRcdFx0IWxpc3RlZFBhdGguaW5jbHVkZXMoZ2V0UGF0aChsZWFmKSlcclxuXHRcdFx0Ly8gXHRcdFx0XHRcdCkgbGlzdGVkUGF0aC5wdXNoKGdldFBhdGgobGVhZikpXHJcblx0XHRcdC8vIFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0Ly8gXHRcdFx0XHRcdFx0bGVhZi5kZXRhY2goKVxyXG5cdFx0XHQvLyBcdFx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5iZU5vdGlmaWVkKSBuZXcgTm90aWNlKFwiYWxyZWFkeSBvcGVuZWQuXCIpXHJcblx0XHRcdC8vIFx0XHRcdFx0XHRcdGJyZWFrXHJcblx0XHRcdC8vIFx0XHRcdFx0XHR9XHJcblx0XHRcdC8vIFx0XHRcdFx0fVxyXG5cdFx0XHQvLyBcdFx0XHR9XHJcblx0XHRcdC8vIFx0XHR9KSlcclxuXHJcblxyXG5cdFx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQodGhpcy5hcHAud29ya3NwYWNlLm9uKFxyXG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcclxuXHRcdFx0XHRcImFjdGl2ZS1sZWFmLWNoYW5nZVwiLFxyXG5cdFx0XHRcdGFzeW5jIChsZWFmOiBXb3Jrc3BhY2VMZWFmKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoIXRoaXMuc2V0dGluZ3MuZW5hYmxlQ1NUKSByZXR1cm5cclxuXHRcdFx0XHRcdGNvbnNvbGUuZGVidWcoXCIvLy8vLy8vLy8vIGFjdGl2ZS1sZWFmLWNoYW5nZVwiKVxyXG5cdFx0XHRcdFx0Ly8gdGhpcy5hbGxBY3RpdmVQYXRoKGxlYWYsIHRydWUpIFxyXG5cdFx0XHRcdFx0Y29uc3QgbW9kaWYgPSB0aGlzLmFkZGVkVGFiKClcclxuXHRcdFx0XHRcdGlmIChtb2RpZiA9PT0gLTFcclxuXHRcdFx0XHRcdFx0fHwgbGVhZi5nZXRWaWV3U3RhdGUoKS50eXBlID09PSBcInN3YXI4MDgwL0FWQUlMQUJMRV9QTFVHSU5fVVBEQVRFU1wiXHJcblx0XHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2UgeyAvLyA9PT0gMCB8fCAxXHJcblx0XHRcdFx0XHRcdHRoaXMuYWN0aXZlTGVhZiA9IGxlYWZcclxuXHRcdFx0XHRcdFx0aWYgKHRoaXMuZ2V0UGlubmVkKGxlYWYpKSByZXR1cm5cclxuXHRcdFx0XHRcdFx0Y29uc3QgZHVwbGljYXRlID0gdGhpcy5nZXREdXBsaUFjdGl2ZSgpO1xyXG5cdFx0XHRcdFx0XHRjb25zdCBub3RFbXB0eSA9IGF3YWl0IHRoaXMuZGV0YWNoTGVhZihkdXBsaWNhdGUpXHJcblx0XHRcdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmJlTm90aWZpZWQgJiYgbm90RW1wdHkpIHtcclxuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKFwiYWxyZWFkeSBvcGVuZWRcIik7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KVxyXG5cdFx0XHQpO1xyXG5cdFx0fSlcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogXCJwYXJhbWV0ZXJzXCIsXHJcblx0XHRcdG5hbWU6IFwiQ1NUIHBhcmFtZXRlcnNcIixcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHRuZXcgRHVwbGljYXRlVGFic01vZGFsKHRoaXMuYXBwLCB0aGlzKS5vcGVuKCk7XHJcblx0XHRcdH0sXHJcblx0XHR9KTtcclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiBcInF1aWNrLXN3aXRjaFwiLFxyXG5cdFx0XHRuYW1lOiBcIkNTVCBxdWljayBzd2l0Y2hcIixcclxuXHRcdFx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLmVuYWJsZUNTVCA9XHJcblx0XHRcdFx0XHQhdGhpcy5zZXR0aW5ncy5lbmFibGVDU1Q7XHJcblx0XHRcdFx0Y29uc3QgbWVzc2FnZSA9IHRoaXMuc2V0dGluZ3MuZW5hYmxlQ1NUXHJcblx0XHRcdFx0XHQ/IFwiQ2xvc2Ugc2ltaWxhciB0YWJzIE9OXCJcclxuXHRcdFx0XHRcdDogXCJDbG9zZSBzaW1pbGFyIHRhYnMgT0ZGXCI7XHJcblx0XHRcdFx0bmV3IE5vdGljZShgJHttZXNzYWdlfWApO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdH0sXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGdldER1cGxpQWN0aXZlID0gKCkgPT4ge1xyXG5cdFx0Y29uc3QgbGVhdmVzID0gdGhpcy5nZXRMZWF2ZXMoKVxyXG5cdFx0Ly8gcGF0aEluZm9zKGxlYXZlcylcclxuXHRcdGNvbnN0IGFjdGl2ZUxlYWYgPSB0aGlzLmFjdGl2ZUxlYWZcclxuXHRcdGNvbnN0IHsgaXNNYWluV2luZG93OiBpc01haW5XaW5kb3dBY3RpdmUsIHJvb3RTcGxpdDogcm9vdFNwbGl0QWN0aXZlLCBlbDogYWN0aXZlRWwgfSA9XHJcblx0XHRcdHRoaXMuZ2V0TGVhZlByb3BlcnRpZXMoYWN0aXZlTGVhZilcclxuXHJcblx0XHRpZiAoIXJvb3RTcGxpdEFjdGl2ZSAmJiBpc01haW5XaW5kb3dBY3RpdmUpIHJldHVyblxyXG5cclxuXHRcdGZvciAoY29uc3QgbGVhZiBvZiBsZWF2ZXMpIHtcclxuXHRcdFx0Y29uc3Qge1xyXG5cdFx0XHRcdGlzTWFpbldpbmRvdzogaXNNYWluV2luZG93RHVwbGksXHJcblx0XHRcdFx0cm9vdFNwbGl0OiByb290U3BsaXREdXBsaSxcclxuXHRcdFx0XHRlbDogZHVwbGlFbCxcclxuXHRcdFx0XHRpc1NhbWVXaW5kb3c6IGlzU2FtZVdpbmRvd0R1cGxpXHJcblx0XHRcdH0gPSB0aGlzLmdldExlYWZQcm9wZXJ0aWVzKGxlYWYsIHRydWUpXHJcblxyXG5cdFx0XHRpZiAoXHJcblx0XHRcdFx0bGVhZiA9PT0gYWN0aXZlTGVhZiAvL3Bhc3MgYWN0aXZlbGVhZlxyXG5cdFx0XHRcdHx8IGlzTWFpbldpbmRvd0R1cGxpICYmICFyb290U3BsaXREdXBsaSAvL3Byb3RlY3Qgc2lkZWJhcnNcclxuXHRcdFx0XHR8fCBpc1NhbWVXaW5kb3dEdXBsaSAmJiBhY3RpdmVFbCAhPT0gZHVwbGlFbC8vIGFsbG93IHNwbGl0aW5nXHJcblx0XHRcdFx0fHwgZ2V0UGF0aChsZWFmKSAhPT0gKGdldFBhdGgoYWN0aXZlTGVhZikpXHJcblx0XHRcdFx0Ly8gb3RoZXIgd2luZG93c1xyXG5cdFx0XHRcdHx8ICFpc1NhbWVXaW5kb3dEdXBsaSAmJiB0aGlzLnNldHRpbmdzLmJ5V2luZG93ID09PSBcImN1cnJlbnRcIiAvLyYmIGJ5V2luZG93XHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdC8vIGlmIGNsaWNraW5nIGEgbGluayB0aGlzIG9wZXJhdG9yIGlzIHJ1biB0d2ljZS4gb3Igd2hlbiBwcmVzc2luZyBjdHJsXHJcblx0XHRcdFx0dGhpcy5vbmNlID0gdHJ1ZVxyXG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5vbmNlID0gZmFsc2VcclxuXHRcdFx0XHR9LCAyMDApXHJcblx0XHRcdFx0Y29udGludWVcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gbGVhZlxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0TGVhZlByb3BlcnRpZXMobGVhZjogV29ya3NwYWNlTGVhZiB8IG51bGwsIG5vdEFjdGl2ZTogYm9vbGVhbiA9IGZhbHNlKVxyXG5cdFx0OiB7IGlzTWFpbldpbmRvdzogYm9vbGVhbiwgcm9vdFNwbGl0OiBib29sZWFuLCBlbDogSFRNTEVsZW1lbnQsIGlzU2FtZVdpbmRvdz86IGJvb2xlYW4gfSB7XHJcblx0XHRjb25zdCBpc01haW5XaW5kb3cgPSBsZWFmIS52aWV3LmNvbnRhaW5lckVsLndpbiA9PT0gd2luZG93O1xyXG5cdFx0Y29uc3Qgcm9vdFNwbGl0ID0gbGVhZiEuZ2V0Um9vdCgpID09PSB0aGlzLmFwcC53b3Jrc3BhY2Uucm9vdFNwbGl0O1xyXG5cdFx0Y29uc3QgZWwgPSAobGVhZiBhcyBhbnkpIS5wYXJlbnRTcGxpdC5jb250YWluZXJFbDtcclxuXHRcdGlmIChub3RBY3RpdmUpIHtcclxuXHRcdFx0Y29uc3QgaXNTYW1lV2luZG93ID0gbGVhZiEudmlldy5jb250YWluZXJFbC53aW4gPT0gYWN0aXZlV2luZG93O1xyXG5cdFx0XHRyZXR1cm4geyBpc01haW5XaW5kb3csIHJvb3RTcGxpdCwgZWwsIGlzU2FtZVdpbmRvdyB9O1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHsgaXNNYWluV2luZG93LCByb290U3BsaXQsIGVsIH07XHJcblx0fVxyXG5cclxuXHRkZXRhY2hMZWFmID0gYXN5bmMgKGR1cGxpY2F0ZTogV29ya3NwYWNlTGVhZiB8IHVuZGVmaW5lZCkgPT4ge1xyXG5cdFx0bGV0IG5vdEVtcHR5ID0gZmFsc2VcclxuXHRcdGlmICghZHVwbGljYXRlKSByZXR1cm5cclxuXHRcdC8vYWxsb3cgdW5kbyBjbG9zZSB0YWJcclxuXHRcdGlmIChcclxuXHRcdFx0Ly8gdGhpcy5vbmNlXHJcblx0XHRcdHRydWVcclxuXHRcdCkge1xyXG5cdFx0XHRpZiAoKHRoaXMuYWN0aXZlTGVhZiBhcyBhbnkpLmhpc3RvcnkuYmFja0hpc3RvcnkubGVuZ3RoKSB7XHJcblx0XHRcdFx0YXdhaXQgKHRoaXMuYWN0aXZlTGVhZiBhcyBhbnkpLmhpc3RvcnkuYmFjaygpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKFxyXG5cdFx0XHRnZXRQYXRoKGR1cGxpY2F0ZSkgLy8mJiBnZXRQYXRoKGR1cGxpY2F0ZSkgPT09IGdldFBhdGgodGhpcy5hY3RpdmVMZWFmKVxyXG5cdFx0KSB7XHJcblx0XHRcdHRoaXMuYWN0aXZlTGVhZj8uZGV0YWNoKClcclxuXHRcdFx0bm90RW1wdHkgPSB0cnVlXHJcblx0XHRcdHRoaXMub25jZSA9IGZhbHNlXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBpZiAodGhpcy5zZXR0aW5ncy5ub0VtcHR5VGFicyAmJiBkdXBsaWNhdGUudmlldy5nZXREaXNwbGF5VGV4dCgpPT09XCJOZXcgdGFiXCIpIHtcclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3Mubm9FbXB0eVRhYnMgJiYgZHVwbGljYXRlLmdldFZpZXdTdGF0ZSgpLnR5cGUgPT09IFwiZW1wdHlcIikge1xyXG5cdFx0XHRcdHRoaXMuYWN0aXZlTGVhZj8uZGV0YWNoKClcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5yZXZlYWxMZWFmKGR1cGxpY2F0ZSlcclxuXHRcdHJldHVybiBub3RFbXB0eVxyXG5cdH1cclxuXHJcblx0Z2V0TGVhdmVzID0gKCk6IFdvcmtzcGFjZUxlYWZbXSA9PiB7Ly8gaWYgYWxsIHdpbmRvd3Mgc2V0P1xyXG5cdFx0Y29uc3QgeyB3b3Jrc3BhY2UgfSA9IHRoaXMuYXBwXHJcblx0XHRjb25zdCBsZWF2ZXNMaXN0OiBXb3Jrc3BhY2VMZWFmW10gPSBbXTtcclxuXHJcblx0XHR3b3Jrc3BhY2UuaXRlcmF0ZUFsbExlYXZlcygobGVhZjogV29ya3NwYWNlTGVhZikgPT4ge1xyXG5cdFx0XHRpZiAobGVhZiEuZ2V0Um9vdCgpID09PSB3b3Jrc3BhY2Uucm9vdFNwbGl0ICYmICF0aGlzLmdldFBpbm5lZChsZWFmKSkge1xyXG5cdFx0XHRcdGxlYXZlc0xpc3QucHVzaChsZWFmKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gbGVhdmVzTGlzdDtcclxuXHR9XHJcblxyXG5cdC8vIHdhcyBkYW1uIHVzZWZ1bCB0byBkZWJ1Zy4gYWN0aXZlTGVhZiB0aGlzIGlzIG5vdCBzbyBzaW1wbGUuLi5cclxuXHRhbGxBY3RpdmVQYXRoID0gKGxlYWY6IFdvcmtzcGFjZUxlYWYsIGFjdGl2ZV9sZWFmX2NoYW5nZSA9IGZhbHNlKSA9PiB7XHJcblx0XHRpZiAoYWN0aXZlX2xlYWZfY2hhbmdlKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwiWyBhY3RpdmUtbGVhZi1jaGFuZ2UgXVwiKVxyXG5cdFx0XHRjb25zb2xlLmxvZyhcIkFMQyBsZWFmXCIsIGdldFBhdGgobGVhZikpXHJcblx0XHR9XHJcblx0XHRjb25zdCBnZXRBY3RpdmVGaWxlUGF0aCA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk/LnBhdGggLy9vciBuYW1lXHJcblx0XHRjb25zb2xlLmxvZyhcIkFjdGl2ZUZpbGVcIiwgZ2V0QWN0aXZlRmlsZVBhdGgpXHJcblx0XHQvLyBjb25zb2xlLmxvZyhcImFjdGl2ZSdWaWV3JyBwYXRoXCIsIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKFZpZXcpPy5sZWFmPy5nZXRWaWV3U3RhdGUoKS5zdGF0ZS5maWxlKVxyXG5cdFx0Ly8gY29uc29sZS5sb2coXCJWaXNpYmxlTGVhZiBwYXRoXCIsIGdldFBhdGgodGhpcy5nZXRWaXNpYmxlTGVhZigpKSlcclxuXHRcdC8vIGNvbnNvbGUubG9nKFwiYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmIHBhdGhcIiwgZ2V0UGF0aCgodGhpcy5hcHAgYXMgYW55KS53b3Jrc3BhY2UuYWN0aXZlTGVhZikpXHJcblx0fVxyXG5cclxuXHRhZGRlZFRhYiA9ICgpID0+IHtcclxuXHRcdHRoaXMubGVhdmVzID0gdGhpcy5nZXRMZWF2ZXMoKVxyXG5cdFx0bGV0IHZhbHVlID0gTmFOXHJcblx0XHRpZiAodGhpcy5sZWF2ZXNBdFN0YXJ0Lmxlbmd0aCA+IHRoaXMubGVhdmVzLmxlbmd0aCkgdmFsdWUgPSAtMVxyXG5cdFx0ZWxzZSBpZiAodGhpcy5sZWF2ZXNBdFN0YXJ0Lmxlbmd0aCA8IHRoaXMubGVhdmVzLmxlbmd0aCkge1xyXG5cdFx0XHR2YWx1ZSA9IDFcclxuXHRcdH1cclxuXHRcdGVsc2UgdmFsdWUgPSAwXHJcblx0XHR0aGlzLmxlYXZlc0F0U3RhcnQgPSB0aGlzLmxlYXZlc1xyXG5cdFx0cmV0dXJuIHZhbHVlXHJcblx0fVxyXG5cclxuXHRnZXRWaXNpYmxlTGVhZigpIHtcclxuXHRcdGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzLmFwcFxyXG5cdFx0cmV0dXJuIHdvcmtzcGFjZS5nZXRMZWFmKGZhbHNlKVxyXG5cdH1cclxuXHJcblx0Z2V0UGlubmVkKGxlYWY6IFdvcmtzcGFjZUxlYWYpIHtcclxuXHRcdHJldHVybiBsZWFmICYmIGxlYWYuZ2V0Vmlld1N0YXRlKCkucGlubmVkXHJcblx0fVxyXG5cclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbihcclxuXHRcdFx0e30sXHJcblx0XHRcdERFRkFVTFRfU0VUVElOR1MsXHJcblx0XHRcdGF3YWl0IHRoaXMubG9hZERhdGEoKVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG59XHJcblxyXG4vLyBJIGRpZG4ndCBuZWVkIHVuZG9IaXN0b3J5IHN0YXR1cyBmaW5hbGx5XHJcblxyXG4vLyAvLyBzZWFyY2ggZ2l0aHViOiBvYnNpZGlhbiBAY29kZW1pcnJvci9oaXN0b3J5XHJcbi8vIGxldCBoYWRVbmRvSGlzdG9yeSA9IGZhbHNlXHJcbi8vIHRyeSB7XHJcbi8vIFx0KHRoaXMuYXBwIGFzIGFueSkud29ya3NwYWNlLmFjdGl2ZUxlYWYudmlldy5lZGl0b3IudW5kbygpXHJcbi8vIFx0aGFkVW5kb0hpc3RvcnkgPSB0cnVlXHJcbi8vIFx0Y29uc29sZS5kZWJ1ZyhcImhpc3RvcnlcIilcclxuLy8gfSBjYXRjaCB7XHJcbi8vIFx0Y29uc29sZS5kZWJ1ZyhcIm5vIGhpc3RvcnlcIilcclxuLy8gfVxyXG4iLCAiaW1wb3J0IHsgVmlldywgV29ya3NwYWNlTGVhZiwgZGVib3VuY2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IENTVCBmcm9tIFwiLi9tYWluXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSXRlbTxUPihhcnI6IEFycmF5PFQ+LCB2YWx1ZTogVCk6IEFycmF5PFQ+IHtcclxuICAgIGNvbnN0IGluZGV4ID0gYXJyLmluZGV4T2YodmFsdWUpO1xyXG4gICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuICAgIHJldHVybiBhcnI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBZGRlZFZhbHVlcyhhOiBudW1iZXJbXSwgYjogbnVtYmVyW10pOiBudW1iZXJbXSB7XHJcbiAgICBjb25zdCBhZGRlZDogbnVtYmVyW10gPSBbXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGIpIHtcclxuICAgICAgICBpZiAoIWEuaW5jbHVkZXModmFsdWUpKSB7XHJcbiAgICAgICAgICAgIGFkZGVkLnB1c2godmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYWRkZWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRlZFZhbHVlKGE6IFdvcmtzcGFjZUxlYWZbXSwgYjogV29ya3NwYWNlTGVhZltdKTogV29ya3NwYWNlTGVhZiB8IG51bGwge1xyXG4gICAgcmV0dXJuIGIuZmluZCh2YWx1ZSA9PiAhYS5pbmNsdWRlcyh2YWx1ZSkpIHx8IG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRFbCA9IChsZWFmOiBXb3Jrc3BhY2VMZWFmIHwgbnVsbCkgPT4geyBcclxuICAgIHJldHVybiAobGVhZiBhcyBhbnkpPy5wYXJlbnQ/LmNvbnRhaW5lckVsXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjbGVhckFmdGVyRGVsYXkgPSBkZWJvdW5jZSgoKSA9PiB7XHJcbiAgICBjb25zb2xlLmNsZWFyKCk7XHJcbn0sIDEwMDAgKiAzMCwgdHJ1ZSk7XHJcblxyXG5leHBvcnQgY29uc3QgaXNFbXB0eSA9IChsZWFmOiBXb3Jrc3BhY2VMZWFmIHwgbnVsbCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJpc0VtcHR5KGxlYWYpXCIsIGxlYWY/LnZpZXcuZ2V0Vmlld1R5cGUoKSA9PT0gXCJlbXB0eVwiKVxyXG4gICAgcmV0dXJuIGxlYWY/LnZpZXcuZ2V0Vmlld1R5cGUoKSA9PT0gXCJlbXB0eVwiXHJcbn0gXHJcblxyXG4vLyBwYXRoc1xyXG5leHBvcnQgY29uc3QgcGF0aEluZm9zID0gKGxlYXZlczogV29ya3NwYWNlTGVhZltdKSA9PiB7ICAgIFxyXG4gICAgY29uc3QgcGF0aHMgPSBsZWF2ZXMubWFwKFxyXG4gICAgICAgIChsZWFmKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBnZXRQYXRoKGxlYWYpXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG4gICAgY29uc29sZS5sb2coXCJwYXRoSW5mb3NcIiwgcGF0aHMpXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBsZWFmUGF0aCA9IChsZWF2ZTogV29ya3NwYWNlTGVhZikgPT4geyBcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQYXRoID0gKGxlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsKTpzdHJpbmcgPT4ge1xyXG4gICAgcmV0dXJuIChsZWFmIS52aWV3IGFzIGFueSkuZmlsZSAmJiAobGVhZiEudmlldyBhcyBhbnkpLmZpbGUucGF0aCB8fCBcIlwiXHJcbn1cclxuXHJcbi8vIGFjdGl2ZSB2aXNpYmxlIGxlYWZcclxuZXhwb3J0IGNvbnN0IGdldFZpZXcgPSAoX3RoaXM6IENTVCk6IFZpZXd8bnVsbCA9PiB7XHJcbiAgICBjb25zdCB7IHdvcmtzcGFjZSB9ID0gX3RoaXMuYXBwXHJcbiAgICBjb25zdCB2aWV3ID0gd29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoVmlldykgLy8gd29ya3NwYWNlLmFjdGl2ZUxlYWZcclxuICAgIHJldHVybiB2aWV3XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRBY3RpdmVMZWFmID0gKF90aGlzOiBDU1QpOiBXb3Jrc3BhY2VMZWFmIHwgbnVsbCA9PiB7XHJcbiAgICBjb25zdCB7IHdvcmtzcGFjZSB9ID0gKF90aGlzLmFwcCkgYXMgYW55XHJcbiAgICByZXR1cm4gIHdvcmtzcGFjZS5hY3RpdmVMZWFmXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXRoc0luZm8oKSAgeyBcclxuICAgIGNvbnN0IGFjdGl2ZUxlYWZwYXRoID0gZ2V0UGF0aChnZXRBY3RpdmVMZWFmKHRoaXMpKVxyXG4gICAgY29uc29sZS5sb2coXCJhY3RpdmVMZWFmcGF0aFwiLCBhY3RpdmVMZWFmcGF0aClcclxuICAgIGNvbnN0IHZpZXcgPSBnZXRWaWV3KHRoaXMpIHx8IG51bGxcclxuICAgIGNvbnN0IHZpZXdQYXRoID0gZ2V0UGF0aCh2aWV3IS5sZWFmKVxyXG4gICAgY29uc29sZS5sb2coXCJhY3RpdmVMZWFmcGF0aFwiLCB2aWV3UGF0aClcclxufSIsICJpbXBvcnQgeyBBcHAsIE1vZGFsLCBOb3RpY2UsIFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IER1cGxpY2F0ZVRhYnMgZnJvbSBcIi4vbWFpblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIER1cGxpY2F0ZVRhYnNNb2RhbCBleHRlbmRzIE1vZGFsIHtcclxuXHRwbHVnaW46IER1cGxpY2F0ZVRhYnM7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IER1cGxpY2F0ZVRhYnMpIHtcclxuXHRcdHN1cGVyKGFwcCk7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdG9uT3BlbigpIHtcclxuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XHJcblx0XHRjb250ZW50RWwuY3JlYXRlRWwoXCJoNFwiLCB7IHRleHQ6IFwiQ2xvc2UgU2ltaWxhciBUYWJzIFBhcmFtZXRlcnNcIiB9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcblx0XHRcdC5zZXROYW1lKFwiUXVpY2sgc3dpdGNoXCIpXHJcblx0XHRcdC5zZXREZXNjKFwiRW5hYmxlL2Rpc2FibGUgQ2xvc2UgU2ltaWxhciBUYWJzXCIpXHJcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG5cdFx0XHRcdHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZUNTVClcclxuXHRcdFx0XHRcdC5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlQ1NUID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRjb25zdCBtZXNzYWdlID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlQ1NUXHJcblx0XHRcdFx0XHRcdFx0PyBcIkNsb3NlIHNpbWlsYXIgdGFicyBPTlwiXHJcblx0XHRcdFx0XHRcdFx0OiBcIkNsb3NlIHNpbWlsYXIgdGFicyBPRkZcIjtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgJHttZXNzYWdlfWApO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcclxuXHRcdFx0LnNldE5hbWUoXCJDbG9zZSBieSB3aW5kb3dcIilcclxuXHRcdFx0LnNldERlc2MoXHJcblx0XHRcdFx0XCJTZWxlY3Qgd2hldGhlciB0aGUgcGx1Z2luIHdpbGwgb25seSBjbG9zZSBzaW1pbGFyIHRhYnMgd2l0aGluIHRoZSBzYW1lIHdpbmRvdywgb3IgdGhyb3VnaG91dCBhbGwgb3BlbiB3aW5kb3dzLlwiXHJcblx0XHRcdClcclxuXHRcdFx0LmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG5cdFx0XHRcdGRyb3Bkb3duXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9ucyh7XHJcblx0XHRcdFx0XHRcdGN1cnJlbnQ6IFwiQ3VycmVudCB3aW5kb3cgb25seVwiLFxyXG5cdFx0XHRcdFx0XHRhbGw6IFwiQWxsIHdpbmRvd3NcIixcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYnlXaW5kb3cpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHZhbHVlID09PSBcImFsbFwiIHx8IHZhbHVlID09PSBcImN1cnJlbnRcIikge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmJ5V2luZG93ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcclxuXHRcdFx0LnNldE5hbWUoXCJObyBlbXB0eSB0YWJzXCIpXHJcblx0XHRcdC5zZXREZXNjKFwiQWN0aXZhdGVzIG5vIHNldmVyYWwgZW1wdHkgdGFic1wiKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuXHRcdFx0XHR0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5ub0VtcHR5VGFicylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mubm9FbXB0eVRhYnMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcblx0XHRcdC5zZXROYW1lKFwiQmUgQ2xlYXJseSBOb3RpZmllZFwiKVxyXG5cdFx0XHQuc2V0RGVzYyhcclxuXHRcdFx0XHRcIm9wZW4gYSBzcGVjaWZpYyBub3RpZmljYXRpb24gcG9wIHVwLCB3aGVuIGEgc2ltaWxhciB0YWIgYWxyZWFkeSBleGlzdHNcIlxyXG5cdFx0XHQpXHJcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG5cdFx0XHRcdHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmJlTm90aWZpZWQpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmJlTm90aWZpZWQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRvbkNsb3NlKCkge1xyXG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IEFwcCwgTm90aWNlLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCBDU1QgZnJvbSBcIi4vbWFpblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIER1cGxpY2F0ZVRhYnNTZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogQ1NUO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBDU1QpIHtcclxuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdH1cclxuXHJcblx0ZGlzcGxheSgpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoXCJoMVwiLCB7IHRleHQ6IFwiQ2xvc2UgU2ltaWxhciBUYWJzXCIgfSk7XHJcblx0XHRjb25zdCBjb250ZW50ID0gYFxyXG5cdFx0PHA+XHJcblx0XHRSZXBvc2l0b3J5OiBcdUQ4M0NcdURGMzQgPGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS8xQzBEL09ic2lkaWFuLUNsb3NlLVNpbWlsYXItVGFic1wiPjFDMEQvT2JzaWRpYW4tQ2xvc2UtU2ltaWxhci1UYWJzPC9hPiBcdUQ4M0NcdURGMzRcclxuXHRcdDwvcD5cclxuXHRcdGA7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRGl2KFwiXCIsIChlbDogSFRNTERpdkVsZW1lbnQpID0+IHtcclxuXHRcdFx0ZWwuaW5uZXJIVE1MID0gY29udGVudDtcclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCJRdWljayBzd2l0Y2hcIilcclxuXHRcdFx0LnNldERlc2MoXCJFbmFibGUvZGlzYWJsZSBDbG9zZSBTaW1pbGFyIFRhYnNcIilcclxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcblx0XHRcdFx0dG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlQ1NUKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVDU1QgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGNvbnN0IG1lc3NhZ2UgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVDU1RcclxuXHRcdFx0XHRcdFx0XHQ/IFwiQ2xvc2Ugc2ltaWxhciB0YWJzIE9OXCJcclxuXHRcdFx0XHRcdFx0XHQ6IFwiQ2xvc2Ugc2ltaWxhciB0YWJzIE9GRlwiO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGAke21lc3NhZ2V9YCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiQ2xvc2UgYnkgd2luZG93XCIpXHJcblx0XHRcdC5zZXREZXNjKFxyXG5cdFx0XHRcdFwiU2VsZWN0IHdoZXRoZXIgdGhlIHBsdWdpbiB3aWxsIG9ubHkgY2xvc2Ugc2ltaWxhciB0YWJzIHdpdGhpbiB0aGUgc2FtZSB3aW5kb3csIG9yIHRocm91Z2hvdXQgYWxsIG9wZW4gd2luZG93cy5cIlxyXG5cdFx0XHQpXHJcblx0XHRcdC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuXHRcdFx0XHRkcm9wZG93blxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbnMoe1xyXG5cdFx0XHRcdFx0XHRjdXJyZW50OiBcIkN1cnJlbnQgd2luZG93IG9ubHlcIixcclxuXHRcdFx0XHRcdFx0YWxsOiBcIkFsbCB3aW5kb3dzXCIsXHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmJ5V2luZG93KVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogc3RyaW5nKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICh2YWx1ZSA9PT0gXCJhbGxcIiB8fCB2YWx1ZSA9PT0gXCJjdXJyZW50XCIpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5ieVdpbmRvdyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCJObyBlbXB0eSB0YWJzXCIpXHJcblx0XHRcdC5zZXREZXNjKFwiQWN0aXZhdGVzIG5vIHNldmVyYWwgZW1wdHkgdGFic1wiKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuXHRcdFx0XHR0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5ub0VtcHR5VGFicylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mubm9FbXB0eVRhYnMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiQmUgQ2xlYXJseSBOb3RpZmllZFwiKVxyXG5cdFx0XHQuc2V0RGVzYyhcclxuXHRcdFx0XHRcIm9wZW4gYSBzcGVjaWZpYyBub3RpZmljYXRpb24gcG9wIHVwLCB3aGVuIGEgc2ltaWxhciB0YWIgYWxyZWFkeSBleGlzdHNcIlxyXG5cdFx0XHQpXHJcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG5cdFx0XHRcdHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmJlTm90aWZpZWQpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmJlTm90aWZpZWQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuXHRcdFx0dGV4dDogYDIgY29tbWFuZHM6IFwiQ2xvc2UgU2ltaWxhciBUYWJzIHBhcmFtZXRlcnNcIiB0byBkaXJlY3RseSBjaGFuZ2UgcGFyYW1ldGVycywgZnJvbSB0aGUgZWRpdG9yIFxyXG5cdFx0XHRhbmQgXCJRdWljayBzd2l0Y2hcIiB0byB0ZW1wb3Jhcmx5IGVuYWJsZS9kaXNhYmxlIENsb3NlIFNpbWlsYXIgVGFicy4sYFxyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUFBQSxtQkFBOEQ7OztBQ0E5RCxzQkFBOEM7QUErQnZDLElBQU0sc0JBQWtCLDBCQUFTLE1BQU07QUFDMUMsVUFBUSxNQUFNO0FBQ2xCLEdBQUcsTUFBTyxJQUFJLElBQUk7QUFxQlgsSUFBTSxVQUFVLENBQUMsU0FBc0M7QUFDMUQsU0FBUSxLQUFNLEtBQWEsUUFBUyxLQUFNLEtBQWEsS0FBSyxRQUFRO0FBQ3hFOzs7QUN4REEsSUFBQUMsbUJBQTRDO0FBR3JDLElBQU0scUJBQU4sY0FBaUMsdUJBQU07QUFBQSxFQUc3QyxZQUFZLEtB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O0FBQ3ZCLGNBQU0sS0FBSyxhQUFhO0FBQUEsTUFDekI7QUFBQSxJQUNELENBQUM7QUFBQSxFQUNGO0FBQUEsRUFzQ0Esa0JBQWtCLE1BQTRCLFlBQXFCLE9BQ3VCO0FBQ3pGLFVBQU0sZUFBZSxLQUFNLEtBQUssWUFBWSxRQUFRO0FBQ3BELFVBQU0sWUFBWSxLQUFNLFFBQVEsTUFBTSxLQUFLLElBQUksVUFBVTtBQUN6RCxVQUFNLEtBQU0sS0FBYyxZQUFZO0FBQ3RDLFFBQUksV0FBVztBQUNkLFlBQU0sZUFBZSxLQUFNLEtBQUssWUFBWSxPQUFPO0FBQ25ELGFBQU8sRUFBRSxjQUFjLFdBQVcsSUFBSSxhQUFhO0FBQUEsSUFDcEQ7QUFDQSxXQUFPLEVBQUUsY0FBYyxXQUFXLEdBQUc7QUFBQSxFQUN0QztBQUFBLEVBcUVBLGlCQUFpQjtBQUNoQixVQUFNLEVBQUUsVUFBVSxJQUFJLEtBQUs7QUFDM0IsV0FBTyxVQUFVLFFBQVEsS0FBSztBQUFBLEVBQy9CO0FBQUEsRUFFQSxVQUFVLE1BQXFCO0FBQzlCLFdBQU8sUUFBUSxLQUFLLGFBQWEsRUFBRTtBQUFBLEVBQ3BDO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsU0FBSyxXQUFXLE9BQU87QUFBQSxNQUN0QixDQUFDO0FBQUEsTUFDRDtBQUFBLE1BQ0EsTUFBTSxLQUFLLFNBQVM7QUFBQSxJQUNyQjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNwQixVQUFNLEtBQUssU0FBUyxLQUFLLFFBQVE7QUFBQSxFQUNsQztBQUNEOyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiJdCn0K
